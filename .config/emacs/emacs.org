* Device Specific Configuration
This is where I make a bunch of named code blocks to noweb into other code blocks.
I find it more convenient to have them all here since if I change one of them, I'll usually change all of them.

#+NAME: Org-Path
#+BEGIN_SRC emacs-lisp
(setq org-directory "~/Documents/Org")
#+END_SRC

#+NAME: Org-Preview-Latex-image-Directory-Path
#+BEGIN_SRC emacs-lisp
;; This just sets where the images are stored for LaTeX.
(setq org-preview-latex-image-directory "~/Documents/ltximg/")
#+END_SRC

** Capture Templates
#+NAME: Org-Capture-Templates-Config
#+BEGIN_SRC emacs-lisp
  ;; Capture templates
  ;; I had an error here where I was concatenating the org-directory to
  ;; the file, but if you do not specify an absolute path, all
  ;; paths are relative to the org-directory path
  (setq org-capture-templates
        '(("t" "Todo" entry
           (file+headline "Inbox.org" "Inbox")
           "** TODO %^{Task}\n:PROPERTIES:\n:CREATED: %U\n:CAPTURED: %a\n:END:\n%?")

          ("f" "Fleeting" entry
           (file+headline "Ideas.org" "Fleeting")
           "** IDEA %^{Idea}\n:PROPERTIES:\n:CREATED: %U\n:CAPTURED: %a\n:END:\n%?")

          ("d" "Deadline" entry
           (file+headline "Calendar.org" "Deadlines")
           "** TODO %^{task}\ndeadline: %^{deadline}t\n:properties:\n:created: %u\n:captured: %a\n:end:\n%?")

          ("p" "Project" entry
           (file+headline "Projects.org" "Projects")
           "* PROJ %^{Project name}\n:PROPERTIES:\n:CREATED: %U\n:CAPTURED: %a\n:END:\n** TODO %?")

          ("i" "Idea" entry
           (file+headline "Ideas.org" "Ideas")
           "** IDEA %^{Idea}\n:PROPERTIES:\n:CREATED: %U\n:CAPTURED: %a\n:END:\n%?")

          ))
#+END_SRC

#+NAME: Org-Roam-Capture-Templates-Config
#+BEGIN_SRC emacs-lisp
  (setq org-roam-capture-templates
        '(("d" "default" plain "%?" :target
           (file+head "%<%Y%m%d%H%M%S>-${slug}.org" "#+title: ${title}\n:PROPERTIES:\n:CREATED: %U\n:END:\n")
           :unnarrowed t)

          ("l" "Literature" plain "%?"  :if-new
           (file+head "Literature/%<%Y%m%d%H%M%S>-${slug}.org" "#+title: ${title}\n:PROPERTIES:\n:CREATED: %U\n:END:\n")
           :unnarrowed t)))

#+END_SRC

** Custom Keybinds
#+NAME: Global-Org-Agenda-Keybinds
#+BEGIN_SRC emacs-lisp
  (global-set-key (kbd "C-S-o") 'org-agenda)
#+END_SRC

#+NAME: Global-Org-Capture-Keybinds
#+BEGIN_SRC emacs-lisp
  (global-set-key (kbd "C-S-c") 'org-capture)
#+END_SRC

#+NAME: Global-Org-Roam-Dailies-Keybinds
#+BEGIN_SRC emacs-lisp
  (global-set-key (kbd "C-;") 'org-roam-dailies-goto-today)
#+END_SRC

#+NAME: Org-Roam-Dailies-Keybinds
#+BEGIN_SRC emacs-lisp
  :bind (("C-c n l" . org-roam-buffer-toggle)
         ("C-c n f" . org-roam-node-find)
         ("C-c n i" . org-roam-node-insert)
         :map org-mode-map
         ("C-M-i" . completion-at-point)
         :map org-roam-dailies-map
         ("Y" . org-roam-dailies-capture-yesterday)
         ("T" . org-roam-dailies-capture-tomorrow))
  :bind-keymap
  ("C-c n d" . org-roam-dailies-map)
#+END_SRC

* init.el
:PROPERTIES:
:header-args: :tangle init.el
:END:

#+BEGIN_SRC emacs-lisp
  ;;; init.el -*- lexical-binding: t; -*-
#+END_SRC

This is the original performance hack from emacs-kickstart.
#+BEGIN_SRC emacs-lisp :tangle no
  ;;; Code:
  ;; 
  ;; Performance Hacks
  ;; Emacs is an Elisp interpreter, and when running programs or packages,
  ;; it can occasionally experience pauses due to garbage collection.
  ;; By increasing the garbage collection threshold, we reduce these pauses
  ;; during heavy operations, leading to smoother performance.
  (setq gc-cons-threshold #x40000000)
#+END_SRC


These are the optimizations I got from joshuablais's dotfiles.
He has a bunch of helpful things in his config that I'll look into in the future.
#+BEGIN_SRC emacs-lisp 
  ;;; https://github.com/joshuablais/dotfiles/blob/master/doom/.config/doom/config.el
  ;; Performance optimizations
  (setq gc-cons-threshold (* 256 1024 1024))
  (setq read-process-output-max (* 4 1024 1024))
  (setq comp-deferred-compilation t)
  (setq comp-async-jobs-number 8)

  ;; Garbage collector optimization
  (setq gcmh-idle-delay 5)
  (setq gcmh-high-cons-threshold (* 1024 1024 1024))

  ;; Set the maximum output size for reading process output, allowing for larger data transfers.
  (setq read-process-output-max (* 1024 1024 4))
#+END_SRC


I believe this is just a package manager that more people use, so I'll just go with the popular option for now.
#+BEGIN_SRC emacs-lisp 
  ;; Emacs comes with a built-in package manager (`package.el'), and we'll use it
  ;; when it makes sense. However, `straight.el' is a bit more user-friendly and
  ;; reproducible, especially for newcomers and shareable configs like emacs-kick.
  ;; So we bootstrap it here.
  (setq package-enable-at-startup nil) ;; Disables the default package manager.


  ;; Bootstraps `straight.el'
  (setq straight-check-for-modifications nil)
  (defvar bootstrap-version)
  (let ((bootstrap-file
         (expand-file-name
          "straight/repos/straight.el/bootstrap.el"
          (or (bound-and-true-p straight-base-dir)
              user-emacs-directory)))
        (bootstrap-version 7))
    (unless (file-exists-p bootstrap-file)
      (with-current-buffer
          (url-retrieve-synchronously
           "https://raw.githubusercontent.com/radian-software/straight.el/develop/install.el"
           'silent 'inhibit-cookies)
        (goto-char (point-max))
        (eval-print-last-sexp)))
    (load bootstrap-file nil 'nomessage))
  (straight-use-package '(project :type built-in))
  (straight-use-package 'use-package)
#+END_SRC

Setup the place where I can get packages for emacs.
#+BEGIN_SRC emacs-lisp
  ;; In Emacs, a package is a collection of Elisp code that extends the editor's functionality,
  ;; much like plugins do in Neovim. We need to import this package to add package archives.
  (require 'package)

  (add-to-list 'package-archives '("melpa" . "https://melpa.org/packages/") t)
#+END_SRC

Nerd font set up.
#+BEGIN_SRC emacs-lisp
  ;; Define a global customizable variable `ek-use-nerd-fonts' to control the use of
  ;; Nerd Fonts symbols throughout the configuration. This boolean variable allows
  ;; users to easily enable or disable the use of symbols from Nerd Fonts, providing
  ;; flexibility in appearance settings. By setting it to `t', we enable Nerd Fonts
  ;; symbols; setting it to `nil' would disable them.
  (defcustom ek-use-nerd-fonts t
    "Configuration for using Nerd Fonts Symbols."
    :type 'boolean
    :group 'appearance)
#+END_SRC

This is just a note of how to use use-package so I can reference it in the future.
#+BEGIN_SRC emacs-lisp :tangle no
  ;;From now on, you'll see configurations using the `use-package` macro, which allows us to organize our Emacs setup in a modular way.
  ;;These configurations look like this:
  (use-package some-package
    :ensure t     ;; Ensure the package is installed (used with package.el).
    :straight t   ;; Use straight.el to install and manage this package.
    :config       ;; Configuration settings for the package.
    ;; Additional settings can go here.
    )
  ;; This approach simplifies package management, enabling us to easily controlboth built-in (first-party) and external (third-party) packages.
  ;; While Emacs is a vast and powerful editor, using `use-package`—especially in combination with `straight.el`—helps streamline our configuration for better organization,reproducibility, and customization.
  ;; As we proceed, you'll see smaller `use-package` declarations for specific packages, which will help us enable the desired features and improve our workflow.
#+END_SRC

This configures a lot of the immediate initial settings for emacs; they are mostly toggles for different features for slightly better defaults.
#+BEGIN_SRC emacs-lisp
  ;;; EMACS
  (use-package emacs
    :ensure nil
    :custom                                         ;; Set custom variables to configure Emacs behavior.
    (auto-save-default nil)                         ;; Disable automatic saving of buffers.
    (column-number-mode t)                          ;; Display the column number in the mode line.
    (create-lockfiles nil)                          ;; Prevent the creation of lock files when editing.
    (delete-by-moving-to-trash t)                   ;; Move deleted files to the trash instead of permanently deleting them.
    (delete-selection-mode 1)                       ;; Enable replacing selected text with typed text.
    (display-line-numbers-type 'relative)           ;; Use relative line numbering in programming modes.
    (global-auto-revert-non-file-buffers t)         ;; Automatically refresh non-file buffers.
    (history-length 25)                             ;; Set the length of the command history.
    (indent-tabs-mode t)                            ;; Use tables instead of spaces.
    (inhibit-startup-message t)                     ;; Disable the startup message when Emacs launches.
    (initial-scratch-message "")                    ;; Clear the initial message in the *scratch* buffer.
    (ispell-dictionary "en_US")                     ;; Set the default dictionary for spell checking.
    (make-backup-files nil)                         ;; Disable creation of backup files.
    (pixel-scroll-precision-mode t)                 ;; Enable precise pixel scrolling.
    (pixel-scroll-precision-use-momentum nil)       ;; Disable momentum scrolling for pixel precision.
    (ring-bell-function 'ignore)                    ;; Disable the audible bell.
    (split-width-threshold 300)                     ;; Prevent automatic window splitting if the window width exceeds 300 pixels.
    (switch-to-buffer-obey-display-actions t)       ;; Make buffer switching respect display actions.
    (tab-always-indent 'complete)                   ;; Make the TAB key complete text instead of just indenting.
    (tab-width 4)                                   ;; Set the tab width to 4 spaces.
    (treesit-font-lock-level 4)                     ;; Use advanced font locking for Treesit mode.
    (truncate-lines t)                              ;; Enable line truncation to avoid wrapping long lines.
    (use-dialog-box nil)                            ;; Disable dialog boxes in favor of minibuffer prompts.
    (use-short-answers t)                           ;; Use short answers in prompts for quicker responses (y instead of yes)
    (warning-minimum-level :emergency)              ;; Set the minimum level of warnings to display.

    :hook                                           ;; Add hooks to enable specific features in certain modes.
    (prog-mode . display-line-numbers-mode)         ;; Enable line numbers in programming modes.

    :config
    ;; By default emacs gives you access to a lot of *special* buffers, while navigating with [b and ]b,
    ;; this might be confusing for newcomers. This settings make sure ]b and [b will always load a
    ;; file buffer. To see all buffers use <leader> SPC, <leader> b l, or <leader> b i.
    (defun skip-these-buffers (_window buffer _bury-or-kill)
      "Function for `switch-to-prev-buffer-skip'."
      (string-match "\\*[^*]+\\*" (buffer-name buffer)))
    (setq switch-to-prev-buffer-skip 'skip-these-buffers)


    ;; Configure font settings based on the operating system.
    ;; Ok, this kickstart is meant to be used on the terminal, not on GUI.
    ;; But without this, I fear you could start Graphical Emacs and be sad :(
    ;; Here I set my font for emacs.
    (set-face-attribute 'default nil :family "Jetbrains Mono"  :height 180)
    (when (eq system-type 'darwin)       ;; Check if the system is macOS.
      (setq mac-command-modifier 'meta)  ;; Set the Command key to act as the Meta key.
      (set-face-attribute 'default nil :family "Jetbrains Mono" :height 180))

    ;; Makes Emacs vertical divisor the symbol │ instead of |.
    (set-display-table-slot standard-display-table 'vertical-border (make-glyph-code ?│))

    :init                        ;; Initialization settings that apply before the package is loaded.
    (tool-bar-mode -1)           ;; Disable the tool bar for a cleaner interface.
    (menu-bar-mode -1)           ;; Disable the menu bar for a more streamlined look.

    (when scroll-bar-mode
      (scroll-bar-mode -1))      ;; Disable the scroll bar if it is active.

    (global-hl-line-mode -1)     ;; Disable highlight of the current line
    (global-auto-revert-mode 1)  ;; Enable global auto-revert mode to keep buffers up to date with their corresponding files.
    (recentf-mode 1)             ;; Enable tracking of recently opened files.
    (savehist-mode 1)            ;; Enable saving of command history.
    (save-place-mode 1)          ;; Enable saving the place in files for easier return.
    (winner-mode 1)              ;; Enable winner mode to easily undo window configuration changes.
    (xterm-mouse-mode 1)         ;; Enable mouse support in terminal mode.
    (file-name-shadow-mode 1)    ;; Enable shadowing of filenames for clarity.

    ;; Set the default coding system for files to UTF-8.
    (modify-coding-system-alist 'file "" 'utf-8)

    ;; Add a hook to run code after Emacs has fully initialized.
    (add-hook 'after-init-hook
              (lambda ()
                (message "Emacs has fully loaded. This code runs after startup.")

                ;; Insert a welcome message in the *scratch* buffer displaying loading time and activated packages.
                (with-current-buffer (get-buffer-create "*scratch*")
                  (insert (format
                           ";;    Welcome to Emacs!
  ;;
  ;;    Loading time : %s
  ;;    Packages     : %s
  "
                           (emacs-init-time)
                           (length (hash-table-keys straight--recipe-cache))))))))
#+END_SRC


I really like when my cursor is centered in the middle of the screen when editing text.
When I am flying around the text buffer, I can always look at the same location on my screen, and so I do not lose my place as much.
It also helps me stay focused when writing since I do not need to look away to potentially get distracted.
#+BEGIN_SRC emacs-lisp
  ;; This just makes it so I can center my cursor
  (use-package centered-cursor-mode
    :ensure t
    :demand
    :config
    ;; Optional, enables centered-cursor-mode in all buffers.
    (global-centered-cursor-mode))
#+END_SRC
                                   
I think this just makes it so buffers and windows are displayed in a better way.
#+BEGIN_SRC emacs-lisp
  ;;; WINDOW
  ;; This section configures window management in Emacs, enhancing the way buffers
  ;; are displayed for a more efficient workflow. The `window' use-package helps
  ;; streamline how various buffers are shown, especially those related to help,
  ;; diagnostics, and completion.
  ;;
  ;; Note: I have left some commented-out code below that may facilitate your
  ;; Emacs journey later on. These configurations can be useful for displaying
  ;; other types of buffers in side windows, allowing for a more organized workspace.
  (use-package window
    :ensure nil       ;; This is built-in, no need to fetch it.
    :custom
    (display-buffer-alist
     '(
       ;; ("\\*.*e?shell\\*"
       ;;  (display-buffer-in-side-window)
       ;;  (window-height . 0.25)
       ;;  (side . bottom)
       ;;  (slot . -1))

       ("\\*\\(Backtrace\\|Warnings\\|Compile-Log\\|[Hh]elp\\|Messages\\|Bookmark List\\|Ibuffer\\|Occur\\|eldoc.*\\)\\*"
        (display-buffer-in-side-window)
        (window-height . 0.25)
        (side . bottom)
        (slot . 0))

       ;; Example configuration for the LSP help buffer,
       ;; keeps it always on bottom using 25% of the available space:
       ("\\*\\(lsp-help\\)\\*"
        (display-buffer-in-side-window)
        (window-height . 0.25)
        (side . bottom)
        (slot . 0))

       ;; Configuration for displaying various diagnostic buffers on
       ;; bottom 25%:
       ("\\*\\(Flymake diagnostics\\|xref\\|ivy\\|Swiper\\|Completions\\)"
        (display-buffer-in-side-window)
        (window-height . 0.25)
        (side . bottom)
        (slot . 1))
       )))
#+END_SRC

This is the file manager for emacs.
#+BEGIN_SRC emacs-lisp
  ;;; DIRED
  ;; In Emacs, the `dired' package provides a powerful and built-in file manager
  ;; that allows you to navigate and manipulate files and directories directly
  ;; within the editor. If you're familiar with `oil.nvim', you'll find that
  ;; `dired' offers similar functionality natively in Emacs, making file
  ;; management seamless without needing external plugins.

  ;; This configuration customizes `dired' to enhance its usability. The settings
  ;; below specify how file listings are displayed, the target for file operations,
  ;; and associations for opening various file types with their respective applications.
  ;; For example, image files will open with `feh', while audio and video files
  ;; will utilize `mpv'.
  (use-package dired
    :ensure nil                                                ;; This is built-in, no need to fetch it.
    :custom
    (dired-listing-switches "-lah --group-directories-first")  ;; Display files in a human-readable format and group directories first.
    (dired-dwim-target t)                                      ;; Enable "do what I mean" for target directories.
    (dired-guess-shell-alist-user
     '(("\\.\\(png\\|jpe?g\\|tiff\\)" "feh" "xdg-open" "open") ;; Open image files with `feh' or the default viewer.
       ("\\.\\(mp[34]\\|m4a\\|ogg\\|flac\\|webm\\|mkv\\)" "mpv" "xdg-open" "open") ;; Open audio and video files with `mpv'.
       (".*" "open" "xdg-open")))                              ;; Default opening command for other files.
    (dired-kill-when-opening-new-dired-buffer t)               ;; Close the previous buffer when opening a new `dired' instance.
    :config
    (when (eq system-type 'darwin)
      (let ((gls (executable-find "gls")))                     ;; Use GNU ls on macOS if available.
        (when gls
          (setq insert-directory-program gls)))))
#+END_SRC

I do not use ERC, but it came with emacs-kick, so I am keeping it here so I can explore it some time in the future.
It is neat how emacs seems to handle pretty much all things that involve text.
#+BEGIN_SRC emacs-lisp :tangle no
  (use-package erc
    :defer t ;; Load ERC when needed rather than at startup. (Load it with `M-x erc RET')
    :custom
    (erc-join-buffer 'window)                                        ;; Open a new window for joining channels.
    (erc-hide-list '("JOIN" "PART" "QUIT"))                          ;; Hide messages for joins, parts, and quits to reduce clutter.
    (erc-timestamp-format "[%H:%M]")                                 ;; Format for timestamps in messages.
    (erc-autojoin-channels-alist '((".*\\.libera\\.chat" "#emacs"))));; Automatically join the #emacs channel on Libera.Chat.
#+END_SRC

This makes it so I can search forwards and backwards incrementally.
#+BEGIN_SRC emacs-lisp
  (use-package isearch
    :ensure nil                                  ;; This is built-in, no need to fetch it.
    :config
    (setq isearch-lazy-count t)                  ;; Enable lazy counting to show current match information.
    (setq lazy-count-prefix-format "(%s/%s) ")   ;; Format for displaying current match count.
    (setq lazy-count-suffix-format nil)          ;; Disable suffix formatting for match count.
    (setq search-whitespace-regexp ".*?")        ;; Allow searching across whitespace.
    :bind (("C-s" . isearch-forward)             ;; Bind C-s to forward isearch.
           ("C-r" . isearch-backward)))          ;; Bind C-r to backward isearch.

#+END_SRC

This seems to be a legacy feature for version control systems.
I really only use git, so I'll turn this off for now.
If I need to use something other than git in the future, I'll have this here for reference.
#+BEGIN_SRC emacs-lisp :tangle no
  ;;; VC
  ;; The VC (Version Control) package is included here for awareness and completeness.
  ;; While its support for Git is limited and generally considered subpar, it is good to know
  ;; that it exists and can be used for other version control systems like Mercurial,
  ;; Subversion, and Bazaar.
  ;; Magit, which is often regarded as the "father" of Neogit, will be configured later
  ;; for an enhanced Git experience.
  ;; The keybindings below serve as a reminder of some common VC commands.
  ;; But don't worry, you can always use `M-x command' :)
  (use-package vc
    :ensure nil                        ;; This is built-in, no need to fetch it.
    :defer t
    :bind
    (("C-x v d" . vc-dir)              ;; Open VC directory for version control status.
     ("C-x v =" . vc-diff)             ;; Show differences for the current file.
     ("C-x v D" . vc-root-diff)        ;; Show differences for the entire repository.
     ("C-x v v" . vc-next-action))     ;; Perform the next version control action.
    :config
    ;; Better colors for <leader> g b  (blame file)
    (setq vc-annotate-color-map
          '((20 . "#f5e0dc")
            (40 . "#f2cdcd")
            (60 . "#f5c2e7")
            (80 . "#cba6f7")
            (100 . "#f38ba8")
            (120 . "#eba0ac")
            (140 . "#fab387")
            (160 . "#f9e2af")
            (180 . "#a6e3a1")
            (200 . "#94e2d5")
            (220 . "#89dceb")
            (240 . "#74c7ec")
            (260 . "#89b4fa")
            (280 . "#b4befe"))))
#+END_SRC

I believe this is for convenient merging of files, so I'll keep it here for reference.
#+BEGIN_SRC emacs-lisp
  ;;; SMERGE
  ;; Smerge is included for resolving merge conflicts in files. It provides a simple interface
  ;; to help you keep changes from either the upper or lower version during a merge.
  ;; This package is built-in, so there's no need to fetch it separately.
  ;; The keybindings below did not needed to be set, are here just to show
  ;; you how to work with it in case you are curious about it.
  (use-package smerge-mode
    :ensure nil                                  ;; This is built-in, no need to fetch it.
    :defer t
    :bind (:map smerge-mode-map
                ("C-c ^ u" . smerge-keep-upper)  ;; Keep the changes from the upper version.
                ("C-c ^ l" . smerge-keep-lower)  ;; Keep the changes from the lower version.
                ("C-c ^ n" . smerge-next)        ;; Move to the next conflict.
                ("C-c ^ p" . smerge-previous)))  ;; Move to the previous conflict.

#+END_SRC

Inline documentation is helpful.
#+BEGIN_SRC emacs-lisp
  ;;; ELDOC
  ;; Eldoc provides helpful inline documentation for functions and variables
  ;; in the minibuffer, enhancing the development experience. It can be particularly useful
  ;; in programming modes, as it helps you understand the context of functions as you type.
  ;; This package is built-in, so there's no need to fetch it separately.
  ;; The following line enables Eldoc globally for all buffers.
  (use-package eldoc
    :ensure nil                                ;; This is built-in, no need to fetch it.
    :config
    (setq eldoc-idle-delay 0)                  ;; Automatically fetch doc help
    (setq eldoc-echo-area-use-multiline-p nil) ;; We use the "K" floating help instead
    ;; set to t if you want docs on the echo area
    (setq eldoc-echo-area-display-truncation-message nil)
    :init
    (global-eldoc-mode))

#+END_SRC

Syntax checking is super helpful.
#+BEGIN_SRC emacs-lisp
  ;;; FLYMAKE
  ;; Flymake is an on-the-fly syntax checking extension that provides real-time feedback
  ;; about errors and warnings in your code as you write. This can greatly enhance your
  ;; coding experience by catching issues early. The configuration below activates
  ;; Flymake mode in programming buffers.
  (use-package flymake
    :ensure nil          ;; This is built-in, no need to fetch it.
    :defer t
    :hook (prog-mode . flymake-mode)
    :custom
    (flymake-margin-indicators-string
     '((error "!»" compilation-error) (warning "»" compilation-warning)
       (note "»" compilation-info))))

#+END_SRC

I really like which-key; it helps with discoverability and just remembering keybinds if I haven't use the editor in a while.
#+BEGIN_SRC emacs-lisp
  ;;; WHICH-KEY
  (use-package which-key
    :ensure t ;; This is built-in, no need to fetch it.
    :defer t        ;; Defer loading Which-Key until after init.
    :hook
    (after-init . which-key-mode)) ;; Enable which-key mode after initialization.

#+END_SRC

==================== EXTERNAL PACKAGES ====================

This makes buffer completions list vertically instead of horizontally.
#+BEGIN_SRC emacs-lisp
  (use-package vertico
    :ensure t
    :straight t
    :hook
    (after-init . vertico-mode)           ;; Enable vertico after Emacs has initialized.
    :custom
    (vertico-count 10)                    ;; Number of candidates to display in the completion list.
    (vertico-resize nil)                  ;; Disable resizing of the vertico minibuffer.
    (vertico-cycle nil)                   ;; Do not cycle through candidates when reaching the end of the list.
    :config
    ;; Customize the display of the current candidate in the completion list.
    ;; This will prefix the current candidate with “» ” to make it stand out.
    ;; Reference: https://github.com/minad/vertico/wiki#prefix-current-candidate-with-arrow
    (advice-add #'vertico--format-candidate :around
                (lambda (orig cand prefix suffix index _start)
                  (setq cand (funcall orig cand prefix suffix index _start))
                  (concat
                   (if (= vertico--index index)
                       (propertize "» " 'face '(:foreground "#80adf0" :weight bold))
                     "  ")
                   cand))))

#+END_SRC

Makes things like regex work better in searches.
#+BEGIN_SRC emacs-lisp
  ;;; ORDERLESS
  ;; Orderless enhances completion in Emacs by allowing flexible pattern matching.
  ;; It works seamlessly with Vertico, enabling you to use partial strings and
  ;; regular expressions to find files, buffers, and commands more efficiently.
  ;; This combination provides a powerful and customizable completion experience.
  (use-package orderless
    :ensure t
    :straight t
    :defer t                                    ;; Load Orderless on demand.
    :after vertico                              ;; Ensure Vertico is loaded before Orderless.
    :init
    (setq completion-styles '(orderless basic)  ;; Set the completion styles.
          completion-category-defaults nil      ;; Clear default category settings.
          completion-category-overrides '((file (styles partial-completion))))) ;; Customize file completion styles.

#+END_SRC

Adds extra information to completion candidates.
I.e., when you search for something, it adds the text next to the thing you for which you searched.

With marginalia mode:```marginalia-mode | Annotate completion candidates with richer information.```

Without marginalia mode:```marginalia-mode```

#+BEGIN_SRC emacs-lisp
  (use-package marginalia
    :ensure t
    :straight t
    :hook
    (after-init . marginalia-mode))

#+END_SRC

Lets you do things like ripgrep and grep more easily.
#+BEGIN_SRC emacs-lisp
  ;;; CONSULT
  ;; Consult provides powerful completion and narrowing commands for Emacs.
  ;; It integrates well with other completion frameworks like Vertico, enabling
  ;; features like previews and enhanced register management. It's useful for
  ;; navigating buffers, files, and xrefs with ease.
  (use-package consult
    :ensure t
    :straight t
    :defer t
    :init
    ;; Enhance register preview with thin lines and no mode line.
    (advice-add #'register-preview :override #'consult-register-window)

    ;; Use Consult for xref locations with a preview feature.
    (setq xref-show-xrefs-function #'consult-xref
          xref-show-definitions-function #'consult-xref))

#+END_SRC

I do not have a good grasp of what this does.
It seems to allow you to limit the amount of text that is on the screen, which you to limit your search space for some operations.
#+BEGIN_SRC emacs-lisp
  ;;; EMBARK
  ;; Embark provides a powerful contextual action menu for Emacs, allowing
  ;; you to perform various operations on completion candidates and other items.
  ;; It extends the capabilities of completion frameworks by offering direct
  ;; actions on the candidates.
  ;; Just `<leader> .' over any text, explore it :)
  (use-package embark
    :ensure t
    :straight t
    :defer t)

#+END_SRC

Makes embark and consult work together.
#+BEGIN_SRC emacs-lisp
  ;;; EMBARK-CONSULT
  ;; Embark-Consult provides a bridge between Embark and Consult, ensuring
  ;; that Consult commands, like previews, are available when using Embark.
  (use-package embark-consult
    :ensure t
    :straight t
    :hook
    (embark-collect-mode . consult-preview-at-point-mode)) ;; Enable preview in Embark collect mode.

#+END_SRC

Makes getting tree-sitter grammars easier.
#+BEGIN_SRC emacs-lisp
  ;;; TREESITTER-AUTO
  ;; Treesit-auto simplifies the use of Tree-sitter grammars in Emacs,
  ;; providing automatic installation and mode association for various
  ;; programming languages. This enhances syntax highlighting and
  ;; code parsing capabilities, making it easier to work with modern
  ;; programming languages.
  (use-package treesit-auto
    :ensure t
    :straight t
    :after emacs
    :custom
    (treesit-auto-install 'prompt)
    :config
    (treesit-auto-add-to-auto-mode-alist 'all)
    (global-treesit-auto-mode t))

#+END_SRC

Makes markdown render in emacs.
#+BEGIN_SRC emacs-lisp
  ;;; MARKDOWN-MODE
  ;; Markdown Mode provides support for editing Markdown files in Emacs,
  ;; enabling features like syntax highlighting, previews, and more.
  ;; It’s particularly useful for README files, as it can be set
  ;; to use GitHub Flavored Markdown for enhanced compatibility.
  (use-package markdown-mode
    :defer t
    :straight t
    :ensure t
    :mode ("README\\.md\\'" . gfm-mode)            ;; Use gfm-mode for README.md files.
    :init (setq markdown-command "multimarkdown")) ;; Set the Markdown processing command.

#+END_SRC

Lets you auto complete things by context.
#+BEGIN_SRC emacs-lisp
  ;;; CORFU
  ;; Corfu Mode provides a text completion framework for Emacs.
  ;; It enhances the editing experience by offering context-aware
  ;; suggestions as you type.
  ;; Corfu Mode is highly customizable and can be integrated with
  ;; various modes and languages.
  (use-package corfu
    :ensure t
    :straight t
    :defer t
    :custom
    (corfu-auto nil)                        ;; Only completes when hitting TAB
    ;; (corfu-auto-delay 0)                ;; Delay before popup (enable if corfu-auto is t)
    (corfu-auto-prefix 1)                  ;; Trigger completion after typing 1 character
    (corfu-quit-no-match t)                ;; Quit popup if no match
    (corfu-scroll-margin 5)                ;; Margin when scrolling completions
    (corfu-max-width 50)                   ;; Maximum width of completion popup
    (corfu-min-width 50)                   ;; Minimum width of completion popup
    (corfu-popupinfo-delay 0.5)            ;; Delay before showing documentation popup
    :config
    (if ek-use-nerd-fonts
        (add-to-list 'corfu-margin-formatters #'nerd-icons-corfu-formatter))
    :init
    (global-corfu-mode)
    (corfu-popupinfo-mode t))

#+END_SRC

Gives the nerd-icons in corfu.
#+BEGIN_SRC emacs-lisp
  ;;; NERD-ICONS-CORFU
  ;; Provides Nerd Icons to be used with CORFU.
  (use-package nerd-icons-corfu
    :if ek-use-nerd-fonts
    :ensure t
    :straight t
    :defer t
    :after (:all corfu))

#+END_SRC



LSPs are super cool.
#+BEGIN_SRC emacs-lisp

  ;; Emacs comes with an integrated LSP client called `eglot', which offers basic LSP functionality. However, `eglot' has limitations, such as not supporting multiple language servers simultaneously within the same buffer (e.g., handling both TypeScript, Tailwind and ESLint LSPs together in a React project). For this reason, the more mature and capable `lsp-mode' is included as a third-party package, providing advanced IDE-like features and better support for multiple language servers and configurations.
  ;; NOTE To install or reinstall an LSP server, use `M-x install-server RET`. `lsp-mode` has a great resource site: https://emacs-lsp.github.io/lsp-mode/

  (use-package lsp-mode
    :ensure t
    :straight t
    :defer t
    :hook (;; Replace XXX-mode with concrete major mode (e.g. python-mode)
           (lsp-mode . lsp-enable-which-key-integration)  ;; Integrate with Which Key
           ((js-mode                                      ;; Enable LSP for JavaScript
             tsx-ts-mode                                  ;; Enable LSP for TSX
             typescript-ts-base-mode                      ;; Enable LSP for TypeScript
             css-mode                                     ;; Enable LSP for CSS
             go-ts-mode                                   ;; Enable LSP for Go
             js-ts-mode                                   ;; Enable LSP for JavaScript (TS mode)
             prisma-mode                                  ;; Enable LSP for Prisma
             python-base-mode                             ;; Enable LSP for Python
             ruby-base-mode                               ;; Enable LSP for Ruby
             rust-ts-mode                                 ;; Enable LSP for Rust
             web-mode) . lsp-deferred))                   ;; Enable LSP for Web (HTML)
    :commands lsp
    :custom
    (lsp-keymap-prefix "C-c l")                           ;; Set the prefix for LSP commands.
    (lsp-inlay-hint-enable nil)                           ;; Usage of inlay hints.
    (lsp-completion-provider :none)                       ;; Disable the default completion provider.
    (lsp-session-file (locate-user-emacs-file ".lsp-session")) ;; Specify session file location.
    (lsp-log-io nil)                                      ;; Disable IO logging for speed.
    (lsp-idle-delay 0.5)                                  ;; Set the delay for LSP to 0 (debouncing).
    (lsp-keep-workspace-alive nil)                        ;; Disable keeping the workspace alive.
    ;; Core settings
    (lsp-enable-xref t)                                   ;; Enable cross-references.
    (lsp-auto-configure t)                                ;; Automatically configure LSP.
    (lsp-enable-links nil)                                ;; Disable links.
    (lsp-eldoc-enable-hover t)                            ;; Enable ElDoc hover.
    (lsp-enable-file-watchers nil)                        ;; Disable file watchers.
    (lsp-enable-folding nil)                              ;; Disable folding.
    (lsp-enable-imenu t)                                  ;; Enable Imenu support.
    (lsp-enable-indentation nil)                          ;; Disable indentation.
    (lsp-enable-on-type-formatting nil)                   ;; Disable on-type formatting.
    (lsp-enable-suggest-server-download t)                ;; Enable server download suggestion.
    (lsp-enable-symbol-highlighting t)                    ;; Enable symbol highlighting.
    (lsp-enable-text-document-color t)                    ;; Enable text document color.
    ;; Modeline settings
    (lsp-modeline-code-actions-enable nil)                ;; Keep modeline clean.
    (lsp-modeline-diagnostics-enable nil)                 ;; Use `flymake' instead.
    (lsp-modeline-workspace-status-enable t)              ;; Display "LSP" in the modeline when enabled.
    (lsp-signature-doc-lines 1)                           ;; Limit echo area to one line.
    (lsp-eldoc-render-all t)                              ;; Render all ElDoc messages.
    ;; Completion settings
    (lsp-completion-enable t)                             ;; Enable completion.
    (lsp-completion-enable-additional-text-edit t)        ;; Enable additional text edits for completions.
    (lsp-enable-snippet nil)                              ;; Disable snippets
    (lsp-completion-show-kind t)                          ;; Show kind in completions.
    ;; Lens settings
    (lsp-lens-enable t)                                   ;; Enable lens support.
    ;; Headerline settings
    (lsp-headerline-breadcrumb-enable-symbol-numbers t)   ;; Enable symbol numbers in the headerline.
    (lsp-headerline-arrow "▶")                            ;; Set arrow for headerline.
    (lsp-headerline-breadcrumb-enable-diagnostics nil)    ;; Disable diagnostics in headerline.
    (lsp-headerline-breadcrumb-icons-enable nil)          ;; Disable icons in breadcrumb.
    ;; Semantic settings
    (lsp-semantic-tokens-enable nil))                     ;; Disable semantic tokens.

#+END_SRC

This shows how to get additional lsp servers and some of the configuration to make them work while other lsps are active.
#+BEGIN_SRC emacs-lisp
  ;;; LSP Additional Servers
  ;; You can extend `lsp-mode' by integrating additional language servers for specific
  ;; technologies. For example, `lsp-tailwindcss' provides support for Tailwind CSS
  ;; classes within your HTML files. By using various LSP packages, you can connect
  ;; multiple LSP servers simultaneously, enhancing your coding experience across
  ;; different languages and frameworks.
  (use-package lsp-tailwindcss
    :ensure t
    :straight t
    :defer t
    :config
    (add-to-list 'lsp-language-id-configuration '(".*\\.erb$" . "html")) ;; Associate ERB files with HTML.
    :init
    (setq lsp-tailwindcss-add-on-mode t))

  (use-package pyvenv
    :demand t
    :config
    (setq pyvenv-workon "emacs")  ; Default venv
    (pyvenv-tracking-mode 1))  ; Automatically use pyvenv-workon via dir-locals

#+END_SRC

I think this is the one that makes the box appear at the bottom of the screen with the args of a file.
#+BEGIN_SRC emacs-lisp
  ;;; ELDOC-BOX
  ;; eldoc-box enhances the default Eldoc experience by displaying documentation in a popup box,
  ;; usually in a child frame. This makes it easier to read longer docstrings without relying on
  ;; the minibuffer. It integrates seamlessly with Eldoc and activates when Eldoc is active.
  ;; Useful for graphical Emacs; terminal users may want to fall back to `eldoc-box-display-at-point-mode'.
  (use-package eldoc-box
    :ensure t
    :straight t
    :defer t)

#+END_SRC

This shows how things have changed in a file by putting the information on the left side when editing.
#+BEGIN_SRC emacs-lisp
  ;;; DIFF-HL
  ;; The `diff-hl' package provides visual indicators for version control changes
  ;; directly in the margin of the buffer, showing lines added, deleted, or changed.
  ;; This is useful for tracking modifications while you edit files. When enabled,
  ;; it automatically activates in every buffer that has a corresponding version
  ;; control backend, offering a seamless experience.
  (use-package diff-hl
    :defer t
    :straight t
    :ensure t
    :hook
    (find-file . (lambda ()
                   (global-diff-hl-mode)           ;; Enable Diff-HL mode for all files.
                   (diff-hl-flydiff-mode)          ;; Automatically refresh diffs.
                   (diff-hl-margin-mode)))         ;; Show diff indicators in the margin.
    :custom
    (diff-hl-side 'left)                           ;; Set the side for diff indicators.
    (diff-hl-margin-symbols-alist '((insert . "┃") ;; Customize symbols for each change type.
                                    (delete . "-")
                                    (change . "┃")
                                    (unknown . "┆")
                                    (ignored . "i"))))

#+END_SRC

The main git interface for emacs.
#+BEGIN_SRC emacs-lisp
  ;;; MAGIT
  ;; `magit' is a powerful Git interface for Emacs that provides a complete
  ;; set of features to manage Git repositories. With its intuitive interface,
  ;; you can easily stage, commit, branch, merge, and perform other Git
  ;; operations directly from Emacs. Magit’s powerful UI allows for a seamless
  ;; workflow, enabling you to visualize your repository's history and manage
  ;; changes efficiently.
  (use-package magit
    :ensure t
    :straight t
    :config
    (if ek-use-nerd-fonts   ;; Check if nerd fonts are being used
        (setopt magit-format-file-function #'magit-format-file-nerd-icons)) ;; Turns on magit nerd-icons
    :defer t)

#+END_SRC

Makes the clipboard work between emacs and the rest of the computer.
#+BEGIN_SRC emacs-lisp
  ;;; XCLIP
  ;; `xclip' is an Emacs package that integrates the X Window System clipboard
  ;; with Emacs. It allows seamless copying and pasting between Emacs and other
  ;; applications using the clipboard. When `xclip' is enabled, any text copied
  ;; in Emacs can be pasted in other applications, and vice versa, providing a
  ;; smooth workflow when working across multiple environments.
  (use-package xclip
    :ensure t
    :straight t
    :defer t
    :hook
    (after-init . xclip-mode))     ;; Enable xclip mode after initialization.

#+END_SRC

Shows how things are indented.
#+BEGIN_SRC emacs-lisp
  ;;; INDENT-GUIDE
  ;; The `indent-guide' package provides visual indicators for indentation levels
  ;; in programming modes, making it easier to see code structure at a glance.
  ;; It draws vertical lines (by default, a character of your choice) at each
  ;; level of indentation, helping to improve readability and navigation within
  ;; the code.
  (use-package indent-guide
    :defer t
    :straight t
    :ensure t
    :hook
    (prog-mode . indent-guide-mode)  ;; Activate indent-guide in programming modes.
    :config
    (setq indent-guide-char "│"))    ;; Set the character used for the indent guide.

#+END_SRC

I do not currently use node.
I keep this here in case I need to use node.
#+BEGIN_SRC emacs-lisp :tangle no
  ;;; ADD-NODE-MODULES-PATH
  ;; The `add-node-modules-path' package ensures that Emacs uses the local
  ;; `node_modules/.bin' for a project rather than globally installed binaries.
  ;; This is essential in JavaScript/TypeScript projects where different versions
  ;; of tools like `eslint' and `typescript-language-server' might be needed
  ;; per project.
  ;;
  ;; This setup helps prevent conflicts between global and local versions of
  ;; Node.js tools and ensures consistency across different environments.
  ;;
  ;; Example in the wild: This is an example of a real-world issue often faced
  ;; by developers using modern tech stacks. When working on multiple projects
  ;; with different dependencies, Emacs must use the correct local versions
  ;; instead of relying on globally installed packages. This configuration
  ;; ensures that the environment is accurate and project-specific tools are
  ;; properly utilized.

  (use-package add-node-modules-path
    :ensure t
    :straight t
    :defer t
    :custom
    ;; Makes sure you are using the local bin for your
    ;; node project. Local eslint, typescript server...
    (eval-after-load 'typescript-ts-mode
      '(add-hook 'typescript-ts-mode-hook #'add-node-modules-path))
    (eval-after-load 'tsx-ts-mode
      '(add-hook 'tsx-ts-mode-hook #'add-node-modules-path))
    (eval-after-load 'typescriptreact-mode
      '(add-hook 'typescriptreact-mode-hook #'add-node-modules-path))
    (eval-after-load 'js-mode
      '(add-hook 'js-mode-hook #'add-node-modules-path)))

#+END_SRC

Simulate using vim in emacs.
#+BEGIN_SRC emacs-lisp
  ;; EVIL
  ;; The `evil' package provides Vim emulation within Emacs, allowing
  ;; users to edit text in a modal way, similar to how Vim
  ;; operates. This setup configures `evil-mode' to enhance the editing
  ;; experience.
  (use-package evil
    :ensure t
    :straight t
    :defer t
    :hook
    (after-init . evil-mode)
    :init
    (setq evil-want-integration t)      ;; Integrate `evil' with other Emacs features (optional as it's true by default).
    (setq evil-want-keybinding nil)     ;; Disable default keybinding to set custom ones.
    (setq evil-want-C-u-scroll t)       ;; Makes C-u scroll
    (setq evil-want-C-u-delete t)       ;; Makes C-u delete on insert mode
    :config
    (evil-set-undo-system 'undo-tree)   ;; Uses the undo-tree package as the default undo system

    ;; Set the leader key to space for easier access to custom commands. (setq evil-want-leader t)
    (setq evil-leader/in-all-states t)  ;; Make the leader key available in all states.
    (setq evil-want-fine-undo t)        ;; Evil uses finer grain undoing steps

    ;; Define the leader key as Space
    (evil-set-leader 'normal (kbd "SPC"))
    (evil-set-leader 'visual (kbd "SPC"))

    ;; Keybindings for searching and finding files.
    (evil-define-key 'normal 'global (kbd "<leader> s f") 'consult-find)
    (evil-define-key 'normal 'global (kbd "<leader> s g") 'consult-grep)
    (evil-define-key 'normal 'global (kbd "<leader> s G") 'consult-git-grep)
    (evil-define-key 'normal 'global (kbd "<leader> s r") 'consult-ripgrep)
    (evil-define-key 'normal 'global (kbd "<leader> s h") 'consult-info)
    (evil-define-key 'normal 'global (kbd "<leader> /") 'consult-line)

    ;; Flymake navigation
    (evil-define-key 'normal 'global (kbd "<leader> x x") 'consult-flymake);; Gives you something like `trouble.nvim'
    (evil-define-key 'normal 'global (kbd "] d") 'flymake-goto-next-error) ;; Go to next Flymake error
    (evil-define-key 'normal 'global (kbd "[ d") 'flymake-goto-prev-error) ;; Go to previous Flymake error

    ;; Dired commands for file management
    (evil-define-key 'normal 'global (kbd "<leader> x d") 'dired)
    (evil-define-key 'normal 'global (kbd "<leader> x j") 'dired-jump)
    (evil-define-key 'normal 'global (kbd "<leader> x f") 'find-file)

    ;; Diff-HL navigation for version control
    (evil-define-key 'normal 'global (kbd "] c") 'diff-hl-next-hunk) ;; Next diff hunk
    (evil-define-key 'normal 'global (kbd "[ c") 'diff-hl-previous-hunk) ;; Previous diff hunk

    ;; NeoTree command for file exploration
    (evil-define-key 'normal 'global (kbd "<leader> e e") 'neotree-toggle)
    (evil-define-key 'normal 'global (kbd "<leader> e d") 'dired-jump)

    ;; Magit keybindings for Git integration
    (evil-define-key 'normal 'global (kbd "<leader> g g") 'magit-status)      ;; Open Magit status
    (evil-define-key 'normal 'global (kbd "<leader> g l") 'magit-log-current) ;; Show current log
    (evil-define-key 'normal 'global (kbd "<leader> g d") 'magit-diff-buffer-file) ;; Show diff for the current file
    (evil-define-key 'normal 'global (kbd "<leader> g D") 'diff-hl-show-hunk) ;; Show diff for a hunk
    (evil-define-key 'normal 'global (kbd "<leader> g b") 'vc-annotate)       ;; Annotate buffer with version control info

    ;; Buffer management keybindings
    (evil-define-key 'normal 'global (kbd "] b") 'switch-to-next-buffer) ;; Switch to next buffer
    (evil-define-key 'normal 'global (kbd "[ b") 'switch-to-prev-buffer) ;; Switch to previous buffer
    (evil-define-key 'normal 'global (kbd "<leader> b i") 'consult-buffer) ;; Open consult buffer list
    (evil-define-key 'normal 'global (kbd "<leader> b b") 'ibuffer) ;; Open Ibuffer
    (evil-define-key 'normal 'global (kbd "<leader> b d") 'kill-current-buffer) ;; Kill current buffer
    (evil-define-key 'normal 'global (kbd "<leader> b k") 'kill-current-buffer) ;; Kill current buffer
    (evil-define-key 'normal 'global (kbd "<leader> b x") 'kill-current-buffer) ;; Kill current buffer
    (evil-define-key 'normal 'global (kbd "<leader> b s") 'save-buffer) ;; Save buffer
    (evil-define-key 'normal 'global (kbd "<leader> b l") 'consult-buffer) ;; Consult buffer
    (evil-define-key 'normal 'global (kbd "<leader>SPC") 'consult-buffer) ;; Consult buffer

    ;; Project management keybindings
    (evil-define-key 'normal 'global (kbd "<leader> p b") 'consult-project-buffer) ;; Consult project buffer
    (evil-define-key 'normal 'global (kbd "<leader> p p") 'project-switch-project) ;; Switch project
    (evil-define-key 'normal 'global (kbd "<leader> p f") 'project-find-file) ;; Find file in project
    (evil-define-key 'normal 'global (kbd "<leader> p g") 'project-find-regexp) ;; Find regexp in project
    (evil-define-key 'normal 'global (kbd "<leader> p k") 'project-kill-buffers) ;; Kill project buffers
    (evil-define-key 'normal 'global (kbd "<leader> p D") 'project-dired) ;; Dired for project

    ;; Yank from kill ring
    (evil-define-key 'normal 'global (kbd "P") 'consult-yank-from-kill-ring)
    (evil-define-key 'normal 'global (kbd "<leader> P") 'consult-yank-from-kill-ring)

    ;; Embark actions for contextual commands
    (evil-define-key 'normal 'global (kbd "<leader> .") 'embark-act)

    ;; Undo tree visualization
    (evil-define-key 'normal 'global (kbd "<leader> u") 'undo-tree-visualize)

    ;; Help keybindings
    (evil-define-key 'normal 'global (kbd "<leader> h m") 'describe-mode) ;; Describe current mode
    (evil-define-key 'normal 'global (kbd "<leader> h f") 'describe-function) ;; Describe function
    (evil-define-key 'normal 'global (kbd "<leader> h v") 'describe-variable) ;; Describe variable
    (evil-define-key 'normal 'global (kbd "<leader> h k") 'describe-key) ;; Describe key

    ;; Tab navigation
    (evil-define-key 'normal 'global (kbd "] t") 'tab-next) ;; Go to next tab
    (evil-define-key 'normal 'global (kbd "[ t") 'tab-previous) ;; Go to previous tab


    ;; Custom example. Formatting with prettier tool.
    (evil-define-key 'normal 'global (kbd "<leader> m p")
      (lambda ()
        (interactive)
        (shell-command (concat "prettier --write " (shell-quote-argument (buffer-file-name))))
        (revert-buffer t t t)))

    ;; LSP commands keybindings
    (evil-define-key 'normal lsp-mode-map
      ;; (kbd "gd") 'lsp-find-definition                ;; evil-collection already provides gd
      (kbd "gr") 'lsp-find-references                   ;; Finds LSP references
      (kbd "<leader> c a") 'lsp-execute-code-action     ;; Execute code actions
      (kbd "<leader> r n") 'lsp-rename                  ;; Rename symbol
      (kbd "gI") 'lsp-find-implementation               ;; Find implementation
      (kbd "<leader> l f") 'lsp-format-buffer)          ;; Format buffer via lsp


    (defun ek/lsp-describe-and-jump ()
      "Show hover documentation and jump to *lsp-help* buffer."
      (interactive)
      (lsp-describe-thing-at-point)
      (let ((help-buffer "*lsp-help*"))
        (when (get-buffer help-buffer)
          (switch-to-buffer-other-window help-buffer))))

    ;; Emacs 31 finaly brings us support for 'floating windows' (a.k.a. "child frames")
    ;; to terminal Emacs. If you're still using 30, docs will be shown in a buffer at the
    ;; inferior part of your frame.
    (evil-define-key 'normal 'global (kbd "K")
      (if (>= emacs-major-version 31)
          #'eldoc-box-help-at-point
        #'ek/lsp-describe-and-jump))

    ;; Commenting functionality for single and multiple lines
    (evil-define-key 'normal 'global (kbd "gcc")
      (lambda ()
        (interactive)
        (if (not (use-region-p))
            (comment-or-uncomment-region (line-beginning-position) (line-end-position)))))

    (evil-define-key 'visual 'global (kbd "gc")
      (lambda ()
        (interactive)
        (if (use-region-p)
            (comment-or-uncomment-region (region-beginning) (region-end)))))

    ;; Enable evil mode
    (evil-mode 1))

#+END_SRC

Makes evil integrate with third-party packages.
#+BEGIN_SRC emacs-lisp
  ;; EVIL COLLECTION
  ;; The `evil-collection' package enhances the integration of
  ;; `evil-mode' with various built-in and third-party packages. It
  ;; provides a better modal experience by remapping keybindings and
  ;; commands to fit the `evil' style.
  (use-package evil-collection
    :defer t
    :straight t
    :ensure t
    :custom
    (evil-collection-want-find-usages-bindings t)
    ;; Hook to initialize `evil-collection' when `evil-mode' is activated.
    :hook
    (evil-mode . evil-collection-init))

#+END_SRC

This implements the ability to get text in and around other text like paraentheses, quotes, etc.
#+BEGIN_SRC emacs-lisp
  ;; https://github.com/emacs-evil/evil-surround?tab=readme-ov-file#examples
  (use-package evil-surround
    :ensure t
    :straight t
    :after evil-collection
    :config
    (global-evil-surround-mode 1))

#+END_SRC

This finds the delimiters in a file, and lets you just to their respective paired part.
#+BEGIN_SRC emacs-lisp
  (use-package evil-matchit
    :ensure t
    :straight t
    :after evil-collection
    :config
    (global-evil-matchit-mode 1))

#+END_SRC

Saves undo history in a tree.
#+BEGIN_SRC emacs-lisp
  ;; UNDO TREE
  ;; The `undo-tree' package provides an advanced and visual way to
  ;; manage undo history. It allows you to navigate and visualize your
  ;; undo history as a tree structure, making it easier to manage
  ;; changes in your buffers.
  (use-package undo-tree
    :defer t
    :ensure t
    :straight t
    :hook
    (after-init . global-undo-tree-mode)
    :init
    (setq undo-tree-visualizer-timestamps t
          undo-tree-visualizer-diff t
          ;; Increase undo limits to avoid losing history due to Emacs' garbage collection.
          ;; These values can be adjusted based on your needs.
          ;; 10X bump of the undo limits to avoid issues with premature
          ;; Emacs GC which truncates the undo history very aggressively.
          undo-limit 800000                     ;; Limit for undo entries.
          undo-strong-limit 12000000            ;; Strong limit for undo entries.
          undo-outer-limit 120000000)           ;; Outer limit for undo entries.
    :config
    ;; Set the directory where `undo-tree' will save its history files.
    ;; This keeps undo history across sessions, stored in a cache directory.
    (setq undo-tree-history-directory-alist '(("." . "~/.emacs.d/.cache/undo"))))

#+END_SRC

Color code delimiters so it is easier to tell when they are opened or closed.
#+BEGIN_SRC emacs-lisp
  ;;; RAINBOW DELIMITERS
  ;; The `rainbow-delimiters' package provides colorful parentheses, brackets, and braces
  ;; to enhance readability in programming modes. Each level of nested delimiter is assigned
  ;; a different color, making it easier to match pairs visually.
  (use-package rainbow-delimiters
    :defer t
    :straight t
    :ensure t
    :hook
    (prog-mode . rainbow-delimiters-mode))
#+END_SRC

It loads .env files with color highlighting.
#+BEGIN_SRC emacs-lisp
  (use-package dotenv-mode
    :defer t
    :straight t
    :ensure t
    :config)

#+END_SRC

It places highlight on things when you do an action like yanking so you know upon which thing you did an action.
#+BEGIN_SRC emacs-lisp
  (use-package pulsar
    :defer t
    :straight t
    :ensure t
    :hook
    (after-init . pulsar-global-mode)
    :config
    (setq pulsar-pulse t)
    (setq pulsar-delay 0.025)
    (setq pulsar-iterations 10)
    (setq pulsar-face 'evil-ex-lazy-highlight)

    (add-to-list 'pulsar-pulse-functions 'evil-scroll-down)
    (add-to-list 'pulsar-pulse-functions 'flymake-goto-next-error)
    (add-to-list 'pulsar-pulse-functions 'flymake-goto-prev-error)
    (add-to-list 'pulsar-pulse-functions 'evil-yank)
    (add-to-list 'pulsar-pulse-functions 'evil-yank-line)
    (add-to-list 'pulsar-pulse-functions 'evil-delete)
    (add-to-list 'pulsar-pulse-functions 'evil-delete-line)
    (add-to-list 'pulsar-pulse-functions 'evil-jump-item)
    (add-to-list 'pulsar-pulse-functions 'diff-hl-next-hunk)
    (add-to-list 'pulsar-pulse-functions 'diff-hl-previous-hunk))

#+END_SRC


It makes the line on the bottom appear with information.
#+BEGIN_SRC emacs-lisp
  ;;; DOOM MODELINE
  ;; The `doom-modeline' package provides a sleek, modern mode-line that is visually appealing
  ;; and functional. It integrates well with various Emacs features, enhancing the overall user
  ;; experience by displaying relevant information in a compact format.
  (use-package doom-modeline
    :ensure t
    :straight t
    :defer t
    :custom
    (doom-modeline-buffer-file-name-style 'buffer-name)  ;; Set the buffer file name style to just the buffer name (without path).
    (doom-modeline-project-detection 'project)           ;; Enable project detection for displaying the project name.
    (doom-modeline-buffer-name t)                        ;; Show the buffer name in the mode line.
    (doom-modeline-vcs-max-length 25)                    ;; Limit the version control system (VCS) branch name length to 25 characters.
    :config
    (if ek-use-nerd-fonts                                ;; Check if nerd fonts are being used.
        (setq doom-modeline-icon t)                      ;; Enable icons in the mode line if nerd fonts are used.
      (setq doom-modeline-icon nil))                     ;; Disable icons if nerd fonts are not being used.
    :hook
    (after-init . doom-modeline-mode))

#+END_SRC

This shows the file tree explorer on the side of emacs.
#+BEGIN_SRC emacs-lisp
  ;;; NEOTREE
  ;; The `neotree' package provides a file tree explorer for Emacs, allowing easy navigation
  ;; through directories and files. It presents a visual representation of the file system
  ;; and integrates with version control to show file states.
  (use-package neotree
    :ensure t
    :straight t
    :custom
    (neo-show-hidden-files t)                ;; By default shows hidden files (toggle with H)
    (neo-theme 'nerd)                        ;; Set the default theme for Neotree to 'nerd' for a visually appealing look.
    (neo-vc-integration '(face char))        ;; Enable VC integration to display file states with faces (color coding) and characters (icons).
    :defer t                                 ;; Load the package only when needed to improve startup time.
    :config
    (if ek-use-nerd-fonts                    ;; Check if nerd fonts are being used.
        (setq neo-theme 'nerd-icons)         ;; Set the theme to 'nerd-icons' if nerd fonts are available.
      (setq neo-theme 'nerd)))               ;; Otherwise, fall back to the 'nerd' theme.

#+END_SRC

This gets nerd icons.
#+BEGIN_SRC emacs-lisp
  ;;; NERD ICONS
  ;; The `nerd-icons' package provides a set of icons for use in Emacs. These icons can
  ;; enhance the visual appearance of various modes and packages, making it easier to
  ;; distinguish between different file types and functionalities.
  (use-package nerd-icons
    :if ek-use-nerd-fonts                   ;; Load the package only if the user has configured to use nerd fonts.
    :ensure t                               ;; Ensure the package is installed.
    :straight t
    :defer t)                               ;; Load the package only when needed to improve startup time.

#+END_SRC

Makes nerd icons work with dired.
#+BEGIN_SRC emacs-lisp
  ;;; NERD ICONS Dired
  (use-package nerd-icons-dired
    :if ek-use-nerd-fonts                   ;; Load the package only if the user has configured to use nerd fonts.
    :ensure t                               ;; Ensure the package is installed.
    :straight t
    :defer t                                ;; Load the package only when needed to improve startup time.
    :hook
    (dired-mode . nerd-icons-dired-mode))

#+END_SRC

Makes nerd icons appear in the completion frameworks.
#+BEGIN_SRC emacs-lisp
  (use-package nerd-icons-completion
    :if ek-use-nerd-fonts                   ;; Load the package only if the user has configured to use nerd fonts.
    :ensure t                               ;; Ensure the package is installed.
    :straight t
    :after (:all nerd-icons marginalia)     ;; Load after `nerd-icons' and `marginalia' to ensure proper integration.
    :config
    (nerd-icons-completion-mode)            ;; Activate nerd icons for completion interfaces.
    (add-hook 'marginalia-mode-hook #'nerd-icons-completion-marginalia-setup)) ;; Setup icons in the marginalia mode for enhanced completion display.
#+END_SRC

Get the catppuccin theme in emacs.
#+BEGIN_SRC emacs-lisp
  (use-package catppuccin-theme
    :ensure t
    :straight t
    :config
    (custom-set-faces
     ;; Set the color for changes in the diff highlighting to blue.
     `(diff-hl-change ((t (:background unspecified :foreground ,(catppuccin-get-color 'blue))))))

    (custom-set-faces
     ;; Set the color for deletions in the diff highlighting to red.
     `(diff-hl-delete ((t (:background unspecified :foreground ,(catppuccin-get-color 'red))))))

    (custom-set-faces
     ;; Set the color for insertions in the diff highlighting to green.
     `(diff-hl-insert ((t (:background unspecified :foreground ,(catppuccin-get-color 'green))))))

    ;; Load the Catppuccin theme without prompting for confirmation.
    (load-theme 'catppuccin :no-confirm))

#+END_SRC

I used to make a bunch of files that all interfaced with interface.el, but decided it was unnecessary and easier to just tangle them together.
#+BEGIN_SRC emacs-lisp :tangle no
  ;; This is where I put all of my configuration files outside of init.el because it will make managing my config easier.
  (setq interface-file (locate-user-emacs-file "interface.el"))
  (load interface-file 'noerror 'nomessage)
#+END_SRC

This is where I put my other configurations.
#+BEGIN_SRC emacs-lisp
  ;; This is where I put all of my configuration files outside of init.el because it will make managing my config easier.
  (setq config-file (locate-user-emacs-file "config.el"))
  (load config-file 'noerror 'nomessage)
#+END_SRC

Auto install a few things.
#+BEGIN_SRC emacs-lisp
  ;;; UTILITARY FUNCTION TO INSTALL EMACS-KICK
  (defun ek/first-install ()
    "Install tree-sitter grammars and compile packages on first run..."
    (interactive)                                      ;; Allow this function to be called interactively.
    (switch-to-buffer "*Messages*")                    ;; Switch to the *Messages* buffer to display installation messages.
    (message ">>> All required packages installed.")
    (message ">>> Configuring Emacs-Kick...")
    (message ">>> Configuring Tree Sitter parsers...")
    (require 'treesit-auto)
    (treesit-auto-install-all)                         ;; Install all available Tree Sitter grammars.
    (message ">>> Configuring Nerd Fonts...")
    (require 'nerd-icons)
    (nerd-icons-install-fonts)                         ;; Install all available nerd-fonts
    (message ">>> Emacs-Kick installed! Press any key to close the installer and open Emacs normally. First boot will compile some extra stuff :)")
    (read-key)                                         ;; Wait for the user to press any key.
    (kill-emacs))                                      ;; Close Emacs after installation is complete.

  (provide 'init)
  ;;; init.el ends here

#+END_SRC

* config.el
:PROPERTIES:
:header-args: :tangle config.el
:END:

I had some errors when trying to render LaTeX inline, and I found that my problem was my imagemagick pathing wasn't being added in my shell correctly, so I make sure to include the needed environment variables in emacs.
#+NAME: Configure-Shell-Binaries
#+BEGIN_SRC emacs-lisp
  ;; This makes it so emacs knows where to look for files.
  (use-package exec-path-from-shell
    :ensure t)
  (require 'exec-path-from-shell)
  (when (memq window-system '(mac ns x))
    (setq exec-path-from-shell-variables '("PATH" "MANPATH" "MAGICK_HOME" "DYLD_LIBRARY_PATH"))
    (exec-path-from-shell-initialize))
  (exec-path-from-shell-initialize)
  (setq custom-file "custom-vars.el")    ;; Specify the custom file path.
  (load custom-file 'noerror 'nomessage) ;; Load the custom file quietly, ignoring errors.

#+END_SRC

** org-config
:PROPERTIES:
:header-args: :tangle config.el
:END:

This is where I set up my Org-Config.
#+NAME: Org-Config
#+BEGIN_SRC emacs-lisp :noweb yes
  <<Org-Path>>

  (use-package org
    :ensure nil     ;; This is built-in, no need to fetch it.
    :defer t)       ;; Defer loading Org-mode until it's needed.

  ;;; Ensure org mode is loaded
  (require 'org)

  ;; This tells emacs where to reference files for org-agenda.
  (setq org-agenda-files (file-expand-wildcards (concat org-directory "/*.org")))

  <<Global-Org-Agenda-Keybinds>>

  ;;; Set the default file for general notes/captures
  (setq org-default-notes-file (concat org-directory "/Ideas.org"))

  (message (concat org-directory "/Inbox.org"))


  <<Org-Capture-Templates-Config>>

  <<Global-Org-Capture-Keybinds>>

  ;; This sets the files that refile can refile into. Maxlevel sets the number of subheadings refile can take.
  (setq org-refile-targets '((org-agenda-files :maxlevel . 3)))

#+END_SRC

This is where I configure my org-roam.
#+NAME: Org-Roam-Config
#+BEGIN_SRC emacs-lisp :noweb yes
  <<Org-Roam-Capture-Templates-Config>>

    ;; Modified from here: https://systemcrafters.net/build-a-second-brain-in-emacs/keep-a-journal/
    (use-package org-roam
      :ensure t
      :init
      (setq org-roam-v2-ack t)
      :custom
      (org-roam-directory (concat org-directory "/roam"))
      (org-roam-completion-everywhere t)
      (org-roam-dailies-capture-templates
        '(("d" "default" entry ""
           :if-new (file+head "%<%Y-%m-%d>.org" "#+title: %<%Y-%m-%d>\n:PROPERTIES:\n:CREATED: %U\n:END:\n"
                              ))))
<<Org-Roam-Dailies-Keybinds>>
      :config
      (require 'org-roam-dailies) ;; Ensure the keymap is available
      (org-roam-db-autosync-mode))

<<Global-Org-Roam-Dailies-Keybinds>>

  #+END_SRC

** LaTeX-config

This is where I configure my LaTeX to work properly inline using tectonic and imagemagick.
I also make sure to set where to put all of the image preview files so I can delete them if they eat my storage.
#+NAME: Latex-Config  
#+BEGIN_SRC emacs-lisp :noweb yes
  <<Org-Preview-Latex-image-Directory-Path>>
  (add-to-list 'org-preview-latex-process-alist
               '(tectonic :programs ("tectonic" "convert")
                          :description "pdf > png"
                          :message "Ensure tectonic and imagemagick are installed."
                          :image-input-type "pdf"
                          :image-output-type "png"
                          :image-size-adjust (1.0 . 1.0)
                          :latex-compiler
                          ("tectonic -Z shell-escape-cwd=%o --outfmt pdf --outdir %o %F")
                          :image-converter
                          ("convert -density 192 -trim -background white -alpha remove %F %O")
                          :transparent-image-converter
                          ("convert -density 192 -trim -background none %F %O")))

  (setq org-preview-latex-default-process 'tectonic)

#+END_SRC

** Colors-config
:PROPERTIES:
:header-args: :tangle config.el
:END:

This is where I store my modifications to the theming of emacs.
I do not currently do much of anything with them, but I do plan to make a few modifications to it in the future.
#+BEGIN_SRC emacs-lisp :tangle no
(set-frame-parameter nil 'alpha-background 70)
(add-to-list 'default-frame-alist '(alpha-background . 70))
#+END_SRC

* Misc Config
:PROPERTIES:
:header-args: :tangle config.el
:END:

This is just a couple of the random initializations that I like to do.
#+NAME: Initialization
#+BEGIN_SRC emacs-lisp
    ;; This just maximizes the window.
    (toggle-frame-maximized)

    ;; This makes it so text wraps globally.
    (global-visual-line-mode)
#+END_SRC
