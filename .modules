# Open tmux by default if it is available
if command -v tmux &> /dev/null && [ -z "$TMUX" ] && [ -z "$EMACS" ]; then
  tmux attach-session -t default || tmux new-session -s default
fi


# This makes node work; I have it disabled because it makes the terminal load slower.
# export NVM_DIR="$HOME/.nvm"
# [ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"  # This loads nvm
# [ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion"  # This loads nvm bash_completion

# https://www.reddit.com/r/ssh/comments/1aurs0x/ssh_x_forwarding_for_active_tmux_session/
function tmuxfixenv {
    eval $(tmux show-environment | sed -e '/^-/d' -e "s/'/'\\\"/g" -e "s/=\(.*\)/='\\1'/" -e "s/^/export /g")
}
